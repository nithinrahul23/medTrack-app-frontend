<p-table 
 [value]="filteredMedicines"
 [paginator]="true" 
 [rows]="5" 
 [showCurrentPageReport]="true"
 [tableStyle]="{ 'min-width': '50rem' }"
 currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">
    <ng-template pTemplate="caption">
        <div class="flex">
            <span class="p-input-icon-left">
                <i class="pi pi-search"></i>
                <input pInputText type="text" (input)="filterMedicine($event)"
                    placeholder="Search by medicine name" />
            </span>
        </div>
    </ng-template>
    <ng-template pTemplate="header">
        <tr>
            <th pSortableColumn="medicineName">Medicine Name <p-sortIcon field="medicineName"></p-sortIcon></th>
            <th pSortableColumn="medicineType">Medicine Type<p-sortIcon field="medicineType"></p-sortIcon></th>
            <th pSortableColumn="expiryDate">Expiry Date<p-sortIcon field="expiryDate"></p-sortIcon></th>
            <th pSortableColumn="totalQuantity">Total Quantity<p-sortIcon field="totalQuantity"></p-sortIcon></th>
            <th pSortableColumn="status">Status<p-sortIcon field="status"></p-sortIcon></th>
            <th pSortableColumn="price">Price<p-sortIcon field="price"></p-sortIcon></th>
            <th>Actions</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-mediDetail>
        <tr>
            <td>{{ mediDetail.medicineName }}</td>
            <td>{{ mediDetail.medicineType }}</td>
            <td>{{ mediDetail.expiryDate | date: 'dd/MM/yyyy'}}</td>
            <td>{{ mediDetail.totalQuantity }}</td>
            <td><p-tag [value]="mediDetail.status" [severity]="getSeverity(mediDetail.status)"></p-tag></td>
            <td>{{ mediDetail.price | currency :'INR'}}</td>
            <td>
                <button pButton type="button" icon="pi pi-pencil" class="p-button-rounded p-button-info" (click)="updateQuantity(mediDetail)"></button>
                <button pButton type="button" icon="pi pi-trash" class="p-button-rounded p-button-danger" (click)="deleteDetails($event,mediDetail.medicineName)"></button>         
            </td>
        </tr>
    </ng-template>
</p-table>
<p-dialog header="Edit Quantity" [(visible)]="visible" [modal]="true">
    <div class="p-fluid">
        <div class="p-field">
            <span><b>Medicine Name:</b> <br> {{selectedMedicine.medicineName}}</span>
            
        </div><br>
        <div class="p-field">
            <b><label for="quantity">Quantity:</label></b>
            <input type="number" id="quantity" pInputText [(ngModel)]="selectedMedicine.totalQuantity">
        </div>
    </div>
    <p-footer>
        <button pButton label="Save" icon="pi pi-check" (click)="saveMedicine()"></button>
        <button pButton label="Cancel" icon="pi pi-times" (click)="visible=false"></button>
    </p-footer>
</p-dialog>

<p-confirmPopup></p-confirmPopup>
<p-toast></p-toast>